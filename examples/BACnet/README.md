# Simulating BACnet Building

This tests the workflow of generating a brick model from configuration files that would have been generated while setting up the BACnet driver in VOLTTRON. For this 'simulated' workflow, files were generated from the BACnet proxy interface for BOPTest. This BACnet proxy represents a single zone commercial hydronic system. It can be used to test control sequences with BOPTest.

VOLTTRON BACnet Tutorial: https://volttron.org/videos/bacnet-tutorial

BOPTest: https://github.com/ibpsa/project1-boptest

BACnet Interface/Simulated Digital Twin: https://github.com/gtfierro/simulated-digital-twin

Paper describing BOPTest, Brick, and BACnet: https://home.gtf.fyi/papers/fierro2022simulated.pdf

# Included Files

Exisiting files for volttron configuration: 
 - point_list.csv: This is the registry configuration file that would be generated by the volttron BACnet scan script. Additionally, this file has the brick type for each point. This type can be determined manually, or through other options discussed later

 - bacnet.config: This is the driver configuration file for the BACnet device

New files for workflow:
 - entity_table.csv: This file is an additional part of the workflow. It links the device or zone being configured, to its volttron topic name, it's driver configuration, and it's point list. 

 - entity_relations.csv: This file lists any known relations between devices listed in the entity_table. These relations are in triple form. 


# Giving Points Brick Types

For these workflows, the point types were determined semi-manually using OpenRefine. OpenRefine is a tool to process tabular data. One of it's features is reconciliation, which can infer brick types from unstructured point labels. The inference capabilities of the reconciliation API are limited, and at this time this process is largely manual. Adding new mappings to the reconciliation API or using other tools (like plaster) can improve this process. 

Tutorial: https://www.youtube.com/watch?v=LKcXMvrxXzE&ab_channel=GabeFierro
reconciliation API: https://github.com/BrickSchema/reconciliation-api

# Future Development

Tools using machine learning, such as scrabble and plaster, automatically create brick models from unstructured BIM metadata. This is a promising direction for reducing the effort of manually naming points. This may be used in the future to directly generate a brick model, point tags, and bacnet configuration files. 

Plastering: https://github.com/plastering/plastering